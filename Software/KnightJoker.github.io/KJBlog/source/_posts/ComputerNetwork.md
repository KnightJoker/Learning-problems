
title: 计算机网络
description: 
categories:
- 计算机基础
tags:
- 计算机网络

---

周五就要开始考计算机网络了，趁着这个机会赶紧复（装）习（逼）一下~

复习顺序很乱，看到哪就记到哪吧，主要以上课的笔记为主，一天的时间应该能整理完毕的。

# 基本概念

### 电路交换、报文交换、分组交换的主要特点与优缺点的比较

**电路交换：**整个报文的比特流连续地从源点直达终点,好像在一个管道中传送, 经过通信路径上的线路资源独占

- 优点：通信实时性强,适用于交互式会话类通信

- 缺点：对突发性通信不适应,通信线路的利用率较低；建立连接时间长,系 统不具有存储数据的能力,不能平滑流量。

**报文交换：**整个报文先传送到相邻结点,全部存储下来后查找转发表,转发到下一个结点。

- 优点：无需预先分配传输带宽,在传送突发数据时可提高整个网络的信道利用率

- 缺点：时延较长,灵活性较差

**分组交换：**单个分组传送到相邻结点,存储下来后查找转发表转发到下一个结点

- 优点：高效（动态分配传输带宽,对通信链路是逐段占用）、灵活（以分组为传送单位和查找路由）、迅速（不必先建立连接就能向其他主机发送分组）、可靠性（保证可靠性的网络协议）

- 缺点：分组在各结点存储转发时需要排队,会造成一定的时延。分组必须携带的 首部(里面有必不可少的控制信息)也造成了一定的开销。很难提供服务质量

### 计算机网络的分类

从作用范围：

- 广域网

- 局域网

- 城域网

- 个人区域网

网络使用者方面：

- 公用网

- 专用网

### 计算机网络的性能指标
速率、带宽、吞吐量、时延、时延带宽积、往返时间 （RTT）、利用率
<br>
### 网络协议的三要素是什么?各有什么含义?

**语法:** 数据与控制信息的结构或格式 。
**语义:**需要发出何种控制信息,完成何种动作以及做出何种响应。 
**同步:** 事件实现顺序的详细说明。
<br>### 协议分层的好处(为什么要分层?)
各层之间独立、灵活性好、结构上可分隔开、易于实现和维护、能促进标准化工作
<br>### 网络体系结构（重点）定义：计算机网络的各层及其协议的集合。（或者：计算机网络及其构件所应完成的功能的精确定义。）
这里有关于结构分层有三种方法：
- ISO 的 OSI/RM 的体系结构(7 层)：物理层、数据链路层、网络层、运输层、会话层、表示层、应用层
- TCP/IP 的体系结构(4 层)：网络接口层、网际层(IP、ARP、ICMP、IGMP)、运输层(TCP/UDP)、应用层
- 具有五层协议的体系结构：
```
	物理层:透明地传输比特流 
	数据链路层:在相邻结点间的链路上透明地传送帧中的数据 
	网络层:为网络上不同主机提供通信功能、为分组选择合适的路由 
	运输层:向两个主机中进程之间的通信提供服务,由于一个主机可同时运行多个进程,运输层还具有复用和分用功能  	  	应用层:为用户应用进程提供服务```

<br>
# 物理层

### 物理层的基本功能及其特点

在传输媒体上传输比特流,屏蔽掉网络中硬件设备和传输媒体的差异,使上层感觉不 到这些差异;完成并行传输与串行传输方式的转换。

其特性主要又分为：机械特性、电气特性、功能特性、过程特性


### 基本术语的解释
- 数据 :运送消息的实体。- 信号 :数据的电气的或电磁的表现。- 模拟信号 :消息的参数的取值是连续的信号 
- 数字信号 :消息的参数的取值是离散的信号 
- 模拟数据 :取值是连续的数据 
- 数字数据 :取值是不连续离散的数据- 码元 :在使用时间域(或简称为时域)的波形表示数字信号时,代表不同离散数值的基本波形。- 单工通信 :只能有一个方向的通信而没有反方向的交互。- 半双工通信 :通信的双方都可以发送信息,但不能双方同时发送(当然也就不能 同时接收)。- 全双工通信 :通信的双方可以同时发送和接收信息。- 基带信号 :来自信源的基本频带信号- 带通信号 :经过载波调制后的信号
### 信道复用技术

能够合并和分解信号,使多个用户可以共享同一信道连到远方的一种通信技术。

1. **FDM: Frequency Division Multiplexing 频分复用:** 将用于传输信道的总带宽划分成若干 个子频带(或称子信道),每一个子信道传输 1 路信号。所有用户在同样的时间占用不同的带 宽资源。2. **TDM:Time Division Multiplexing 时分复用:**采用同一物理连接的不同时段来传输不同的 信号,达到多路传输的目的。所有用户在不同的时间占用相同的频带宽度STDM: Statistic TDM 统计时分复用:一种改进的 TDM,明显提高信道利用率3. **WDM: Wavelength Division Multiplexing 波分复用:**光的频分复用DWDM—Dense WDM 密集波分复用:在一根光纤上复用 80 路或更多路数的光载波信号 4. **CDM: Code Division Multiplexing 码分复用:** CDMA:Code Division Multiple Access 码分多址:每个用户可以在同样的时间使用相同的频带 进行通信,但各用户使用经过特殊挑选的不同码型,因此各用户之间不会造成干扰。 码片(chip): CDMA 中每一个比特时间再划分的 m 个短的间隔
<br>
# 数据链路层

### 数据链路（逻辑电路）与链路（物理链路）的区别：- **物理链路:**从一个结点到相邻结点的一段物理线路,中间无其他结点
- **逻辑链路:**在物理链路的基础上加 必要的通信协议
### 数据链路层协议要解决的 3 个基本问题：

封装成帧、透明传输、差错检测

### PPP协议的组成以及PPP帧格式**PPP协议组成**主要有三个部分：
1. 一个将IP数据报封装到串行链路的方法。
2. 一个用来建立、配置和测试数据链路连接的**链路控制协议LCP**
3. 一套网络控制协议NCP
**ppp帧格式：**
这里主要也分为三个部分：首部、信息部分以及尾部
用一张图片来表示吧，更容易理解记忆：

![PPP帧格式](https://github.com/KnightJoker/KnightJoker.github.io/blob/master/Img/PPP%E5%B8%A7%E6%A0%BC%E5%BC%8F.png?raw=true)### CSMA/CD 协议工作流程(原理)
英文全称：Carrier Sense Multiple Access with Collision Detection。
这里的基本原理可以分为两部分：
**发送端:**
1. “多点接入”表示许多计算机以多点接入的方式连接在一根总线上。
2. “载波监听”是指每一个站在发送数据之前先要检测一下总线上是否有其他 计算机在发送数据,如果有,则暂时不要发送数据,以免发生碰撞。 
3. “碰撞(冲突)检测”就是计算机边发送数据边检测信道上的信号电压大小。
4. 一旦发现总线上出现了碰撞(冲突),就要立即停止发送,免得继续浪费网 络资源,然后调用指数退避算法等待一段随机时间后再次发送。 即:先听后发,边听边发,碰撞停止,延迟重发
**接收端:**
1. 浏览收到的数据帧并且校验是否是碎片。若是碎片则丢弃,否则转下一步. 
2. 检验目标 MAC 地址. 若与本机 MAC 地址不同则丢弃,否则转下一步; 
3. 判断帧的完整性(CRC 校验是否正确、长度等),若有错则进行错误处理, 否则正确接收。
**冲突处理:**
有两种冲突情况: 
- 侦听中发现线路忙, 则等待一个延时后再次 侦听,若仍然忙,则继续延迟等待,一直到可以发送为止。每次延时的时间不一 致,由退避算法确定延时值。 
- 发送过程中发现数据碰撞,先发送阻塞信息, 强化冲突,再进行侦听工作,以待下次重新发送.
### 网桥

**网桥的基本工作原理**
 
数据链路层互联的设备是网桥(bridge),在网络互联中它起到数据接收、地址过滤与数据转发的作用，用来实现多个网络系统之间的数据交换。

##### 网桥的基本特征

1. 网桥在数据链路层上实现局域网互连；
2. 网桥能够互连两个采用不同数据链路层协议、不同传输介质与不同传输速率的网络；
3. 网桥以接收、存储、地址过滤与转发的方式实现互连的网络之间的通信；
4. 网桥需要互连的网络在数据链路层以上采用相同的协议； 
5. 网桥可以分隔两个网络之间的广播通信量，有利于改善互连网络的性能与安全性。 

##### 网桥的工作过程

网桥最常见的用法是用于连接两个局域网，下图给出了两个局域网通过网桥互联的工作原理。 

##### 网桥的基本分类

网桥按照其路由表的建立方法分为两类
- 透明网桥（transparent bridge）
- 源路选网桥（source routing bridge）

##### 透明网桥的主要特点

透明网桥由各个网桥自己来决定路由选择，局域网上的各结点不负责路由选择，网桥对于互连局域网的各结点来说是“透明”的；

透明网桥一般用在两个使用同样的MAC层协议的网段之间的互连。例如连接两个Ethernet网段，或两个令牌环网；

透明网桥的最大优点是容易安装，是一种即插即用设备。<br># 网络层
网络层提供的 2 种服务：
1. 面向连接的服务 —— 虚电路服务 
2. 无连接的服务 —— 数据报服务:IP 协议采用的是无连接的数据报服务
然后我不会了！！#@￥！@*！#%……（&@……！#！@……&#*） 好的，这章跳过。
<br># 运输层
其主要功能：为进程到进程间连接提供可靠的传输服务,包括连接的流量控制、差错控制等管理服务。
### 端口号(熟知端口号、登记端口号、短暂端口号)- FTP :20、21 端口
- Telnet:23 端口
- SMTP:25 端口
- HTTP:80 端口 
- DNS:53 端口
- DHCP :67、68 端口
- TFTP:69 端口
- SNMP:164 端口### TCP/UDP
- UDP(User Datagram Protocol,用户数据报协议)**主要特点:**无连接的、面向报文的、尽最大努力交付的(不保证可靠)、没有拥塞控制的、 首部开销小。-  TCP(Transmission Control Protocol, 传输控制协议)**主要特点:** 面向连接的、面向字节流的、可靠交付的、提供全双工通信
##### TCP 的可靠传输工作原理
停等协议、自动请求重传 ARQ,流水线技术、累积确认,回退 N;滑动窗口
这里需要注意**流量控制**和**拥塞控制**
##### TCP 连接建立与释放过程- 建立 TCP 连接的过程:用三次握手
- 释放 TCP 连接的过程:用四次握手
# 应用层
### 应用层协议
DNS、FTP、E-MAIL、TELNET、HTTP、SMTP、POP3、IMAP、SNMP
### DNS(Domain Name System)
##### 域名结构
因特网的域名采用了一个规则的树形层次结构的名字空间,它与因特网中的组织机构的 层次相对应。
域(Domain)是树状域名空间中的一棵子树,域的名字称为域名(Domain name), 就是这个子树顶部节点的名字。
因特网上的一台主机的域名是从叶节点沿着树枝向上直到树 根节点的路径上所有域名构成的一个序列,各个域名之间用“.”隔开。
##### 域名服务器种类
- 根域名服务器:根域名服务器是最重要的域名服务器。所有的根域名服务器都知道所有的顶级域名服务器的域名和 IP 地址。不管是哪一个本地域名服务器,若要对因特网上任何 一个域名进行解析,只要自己无法解析,就首先求助于根域名服务器。在因特网上共有 13 个 不同 IP 地址的根域名服务器,它们的名字是用一个英文字母命名,从 a 一直到 m(前 13 个字母)。- 顶级域名服务器:这些域名服务器负责管理在该顶级域名服务器注册的所有二级域名。 - 权限域名服务器:负责注册登记因特网主机的域名,通常由本地 ISP 的域名服务器担任。 - 本地域名服务器:当一个主机发出 DNS 查询请求时,这个查询请求报文就发送给本地域名服务器。这种域名服务器有时也称为默认域名服务器。##### 域名解析过程- **递归查询(Recursive Query):** resolver 向所请求的域名服务器发出一个查询请求,域 名服务器中若有被请求的数据,则返回给 resolver,否则向根域名服务器查询,通过根服务 器继续查询。- **迭代查询(Iterative Query):**当 resolver 所请求的域名服务器中没有被请求的数据时, 服务器不是通过根服务器继续查询,而是返回另外一个域名服务器的地址,告诉 resolver 该域名服务器可能知道要查询的数据。